<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/dashboard/materiales">Materiales</a></li>
        <li class="breadcrumb-item active" aria-current="page">Editar</li>
    </ol>
</nav>
<div class="card shadow-sm border-light rounded" *ngIf="material">
    <div class="card-header ">
        Editar Material
    </div>
    <div class="card-body">
        <form novalidate autocomplete="off" [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="row">
                <div class="col-md-6">
                    <label class="form-label">Nombre</label>
                    <input type="text" class="form-control" placeholder="Nombre" maxlength="50" [class.is-invalid]="isNombreValid" formControlName="nombre">
                    <div class="invalid-feedback" *ngIf="isNombreValid">
                        {{ getErrorMessage('nombre') }}
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Capacidad o Tamaño</label>
                    <input type="text" class="form-control" placeholder="Capacidad o Tamaño" maxlength="30" [class.is-invalid]="isCapacidadTamanioValid" formControlName="capacidadTamanio">
                    <div class="invalid-feedback" *ngIf="isCapacidadTamanioValid">
                        {{ getErrorMessage('capacidadTamanio') }}
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <label class="form-label">Fecha de Ingreso</label>
                    <input type="date" class="form-control" placeholder="Fecha de Ingreso" [class.is-invalid]="isFechaIngresoValid" formControlName="fechaIngreso">
                    <div class="invalid-feedback" *ngIf="isFechaIngresoValid">
                        {{ getErrorMessage('fechaIngreso') }}
                    </div>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Cantidad</label>
                    <input type="text" inputmode="numeric" class="form-control" placeholder="Cantidad" [class.is-invalid]="isCantidadValid" formControlName="cantidad">
                    <div class="invalid-feedback" *ngIf="isCantidadValid">
                        {{ getErrorMessage('cantidad') }}
                    </div>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Clasificación</label>
                    <select class="form-select" [class.is-invalid]="isClasificacionValid" formControlName="clasificacion">
                        <option value="">Selecciona una opción</option>
                        <option *ngFor="let clasificacion of clasificaciones" [value]="clasificacion.valor"> {{ clasificacion.text }} </option>
                    </select>
                    <div class="invalid-feedback" *ngIf="isClasificacionValid">
                        {{ getErrorMessage('clasificacion') }}
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <label class="form-label">Unidad de Medida</label>
                    <select class="form-select" [class.is-invalid]="isUnidadMedidaValid" formControlName="unidadMedida">
                        <option value="">Selecciona una opción</option>
                        <option *ngFor="let unidadMedida of unidadesMedida" [value]="unidadMedida.id"> {{ unidadMedida.nombre }} </option>
                    </select>
                    <div class="invalid-feedback" *ngIf="isUnidadMedidaValid">
                        {{ getErrorMessage('unidadMedida') }}
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Marca</label>
                    <select class="form-select" [class.is-invalid]="isMarcaValid" formControlName="marca">
                        <option value="">Selecciona una opción</option>
                        <option *ngFor="let marca of marcas" [value]="marca.id"> {{ marca.nombre }} </option>
                    </select>
                    <div class="invalid-feedback" *ngIf="isMarcaValid">
                        {{ getErrorMessage('clasificacion') }}
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <label class="form-label">Tipo de Material</label>
                    <select class="form-select" [class.is-invalid]="isTipoMaterialValid" formControlName="tipoMaterial">
                        <option value="">Selecciona una opción</option>
                        <option *ngFor="let tipoMaterial of tiposMaterial" [value]="tipoMaterial.id"> {{ tipoMaterial.nombre }} </option>
                    </select>
                    <div class="invalid-feedback" *ngIf="isTipoMaterialValid">
                        {{ getErrorMessage('tipoMaterial') }}
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Ubicación</label>
                    <select class="form-select" [class.is-invalid]="isUbicacionValid" formControlName="ubicacion">
                        <option value="">Selecciona una opción</option>
                        <option *ngFor="let ubicacion of ubicaciones" [value]="ubicacion.id"> A{{ ubicacion.anaquel }}N{{ ubicacion.nivel }} </option>
                    </select>
                    <div class="invalid-feedback" *ngIf="isUbicacionValid">
                        {{ getErrorMessage('clasificacion') }}
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-12">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-control" rows="3" style="resize: none;" maxlength="100" [class.is-invalid]="isDescripcionValid" formControlName="descripcion"></textarea>
                    <div class="invalid-feedback" *ngIf="isDescripcionValid">
                        {{ getErrorMessage('descripcion') }}
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-12">
                    <button type="submit" class="btn btn-success float-end" [disabled]="form.invalid || isLoading">Guardar</button>
                </div>
            </div>
        </form>
    </div>
</div>